<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://i.pinimg.com/236x/01/4e/59/014e59fcdefd0a42af154e35b28cc09b--the-last-avatar-avatar-the-last-airbender.jpg" type="image/png">

    <link rel="stylesheet" href="./Styles/fonts.css" />
    <link rel="stylesheet" href="./Styles/index.css" />
  </head>

  <body>
    <div class="buttonContainer">
      <div class="homelink" onclick="window.location='./index.html'">
        <img class="portrait" src="./CS-III/Images/Portrait.jpg" alt="Portrait">
        <button class="homePage">QCreates</button>  
      </div>
      <a href="./index.html" class="tablink">Home</a>
      <a href="./bookPage.html" class="tablink" id="homeBtn">Book Now</a>
      <a href="./construction.html" class="tablink">FAQ</a>
      <a href="./contact.html" class="tablink">Contact</a>
    </div>

    <div class="mainContainer">
      <div class="descr">
        <h1>Book a Design Consultation</h1>
        <h3>
          Please provide the details below to request an in-home or virtual design consultation.
          Appointments are available Monday through Thursday.
        </h3>

        <form class="contact-form" onsubmit="sendEmail(event)">
          
          <input type="hidden" name="subject" value="Design Consultation" />

          <label>Full Name</label>
          <input type="text" name="name" required />

          <label>Address</label>
          <input type="text" name="address" required />

          <label>Phone Number</label>
          <input type="tel" name="phone" required />
            
          <label for="email">Email</label>
          <input type="text" id="email" name="email" required />

          <label>Available Date (Mon–Thu)</label>
          <input type="date" name="date" id="date" required />

          <label>Preferred Time(s)</label>
          <input type="text" name="time" placeholder="e.g. 10am–12pm" required />

          <label>Number of Rooms</label>
          <input type="number" name="rooms" min="1" required />

          <label>Brief Description of Rooms</label>
          <textarea name="message" rows="5" required></textarea>

          <div class="g-recaptcha" data-sitekey="6LcQOi8sAAAAAN5frdBx-kWsopdryzn4apEAF2Il"></div>

          <button type="submit" class="submitbtn">Request Consultation</button>
        </form>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
      emailjs.init("slf6TW1E89BDBosRY");

      function sendEmail(e) {
        e.preventDefault();

        const dateInput = document.getElementById("date");
        const selectedDate = new Date(dateInput.value);
        const day = selectedDate.getDay();

        if (day === 0 || day === 5 || day === 6) {
          alert("Please select a date between Monday and Thursday.");
          return;
        }

        emailjs.sendForm(
          "service_ng4c465",
          "template_u7yk72x",
          e.target
        ).then(
          () => alert("Consultation request sent successfully."),
          (error) => alert("Failed: " + error.text)
        );
      }
    </script>
  </body>
</html>
